
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>ML Metadata</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ml-metadata" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="ML Metadata" class="md-header__button md-logo" aria-label="ML Metadata" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ML Metadata
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/google/ml-metadata" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ML Metadata
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="ML Metadata" class="md-nav__button md-logo" aria-label="ML Metadata" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ML Metadata
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/google/ml-metadata" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ML Metadata
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metadata-store" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata store
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metadata store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata-storage-backends-and-store-connection-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata storage backends and store connection configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Data model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mlmd-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      MLMD Functionality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MLMD Functionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrate-ml-metadata-into-your-ml-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate ML Metadata into your ML Workflows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-mlmd-with-a-remote-grpc-server" class="md-nav__link">
    <span class="md-ellipsis">
      Use MLMD with a remote gRPC server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-the-mlmd-library" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade the MLMD library
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade the MLMD library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade-the-database-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade the database schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downgrade-the-database-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Downgrade the database schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://tensorflow.github.io/tfx/tutorials/mlmd/mlmd_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mlmd
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            mlmd
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd/mlmd.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mlmd
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mlmd.errors
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            mlmd.errors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd.errors/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd.errors/mlmd.errors.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mlmd.errors
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mlmd.proto
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            mlmd.proto
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd.proto/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/mlmd.proto/mlmd.proto.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mlmd.proto
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metadata-store" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata store
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metadata store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata-storage-backends-and-store-connection-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata storage backends and store connection configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Data model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mlmd-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      MLMD Functionality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MLMD Functionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrate-ml-metadata-into-your-ml-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate ML Metadata into your ML Workflows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-mlmd-with-a-remote-grpc-server" class="md-nav__link">
    <span class="md-ellipsis">
      Use MLMD with a remote gRPC server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-the-mlmd-library" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade the MLMD library
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade the MLMD library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade-the-database-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade the database schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downgrade-the-database-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Downgrade the database schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ml-metadata">ML Metadata<a class="headerlink" href="#ml-metadata" title="Permanent link">¶</a></h1>
<p><a href="https://github.com/google/ml-metadata">ML Metadata (MLMD)</a> is a library for
recording and retrieving metadata associated with ML developer and data
scientist workflows. MLMD is an integral part of
<a href="https://www.tensorflow.org/tfx">TensorFlow Extended (TFX)</a>, but is designed so
that it can be used independently.</p>
<p>Every run of a production ML pipeline generates metadata containing information
about the various pipeline components, their executions (e.g. training runs),
and resulting artifacts (e.g. trained models). In the event of unexpected
pipeline behavior or errors, this metadata can be leveraged to analyze the
lineage of pipeline components and debug issues. Think of this metadata as the
equivalent of logging in software development.</p>
<p>MLMD helps you understand and analyze all the interconnected parts of your ML
pipeline instead of analyzing them in isolation and can help you answer
questions about your ML pipeline such as:</p>
<ul>
<li>Which dataset did the model train on?</li>
<li>What were the hyperparameters used to train the model?</li>
<li>Which pipeline run created the model?</li>
<li>Which training run led to this model?</li>
<li>Which version of TensorFlow created this model?</li>
<li>When was the failed model pushed?</li>
</ul>
<h2 id="metadata-store">Metadata store<a class="headerlink" href="#metadata-store" title="Permanent link">¶</a></h2>
<p>MLMD registers the following types of metadata in a database called the
<strong>Metadata Store</strong>.</p>
<ol>
<li>Metadata about the artifacts generated through the components/steps of your
    ML pipelines</li>
<li>Metadata about the executions of these components/steps</li>
<li>Metadata about pipelines and associated lineage information</li>
</ol>
<p>The Metadata Store provides APIs to record and retrieve metadata to and from the
storage backend. The storage backend is pluggable and can be extended. MLMD
provides reference implementations for SQLite (which supports in-memory and
disk) and MySQL out of the box.</p>
<p>This graphic shows a high-level overview of the various components that are part
of MLMD.</p>
<p><img alt="ML Metadata Overview" src="images/mlmd_overview.png"></p>
<h3 id="metadata-storage-backends-and-store-connection-configuration">Metadata storage backends and store connection configuration<a class="headerlink" href="#metadata-storage-backends-and-store-connection-configuration" title="Permanent link">¶</a></h3>
<p>The <code>MetadataStore</code> object receives a connection configuration that corresponds
to the storage backend used.</p>
<ul>
<li><strong>Fake Database</strong> provides an in-memory DB (using SQLite) for fast
    experimentation and local runs. The database is deleted when the store
    object is destroyed.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata.proto</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store_pb2</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">fake_database</span><span class="o">.</span><span class="n">SetInParent</span><span class="p">()</span> <span class="c1"># Sets an empty fake database proto.</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>SQLite</strong> reads and writes files from disk.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">sqlite</span><span class="o">.</span><span class="n">filename_uri</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">sqlite</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># READWRITE_OPENCREATE</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>MySQL</strong> connects to a MySQL server.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<p>Similarly, when using a MySQL instance with Google CloudSQL
(<a href="https://cloud.google.com/sql/docs/mysql/quickstart">quickstart</a>,
<a href="https://cloud.google.com/sql/docs/mysql/connect-overview">connect-overview</a>),
one could also use SSL option if applicable.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">ca</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">capath</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">cipher</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">ssl_options</span><span class="o">.</span><span class="n">verify_server_cert</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>PostgreSQL</strong> connects to a PostgreSQL server.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">dbname</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<p>Similarly, when using a PostgreSQL instance with Google CloudSQL
(<a href="https://cloud.google.com/sql/docs/postgres/quickstart">quickstart</a>,
<a href="https://cloud.google.com/sql/docs/postgres/connect-overview">connect-overview</a>),
one could also use SSL option if applicable.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">ssloption</span><span class="o">.</span><span class="n">sslmode</span> <span class="o">=</span> <span class="s1">'...'</span> <span class="c1"># disable, allow, verify-ca, verify-full, etc.</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">ssloption</span><span class="o">.</span><span class="n">sslcert</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">ssloption</span><span class="o">.</span><span class="n">sslkey</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">ssloption</span><span class="o">.</span><span class="n">sslpassword</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">ssloption</span><span class="o">.</span><span class="n">sslrootcert</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="data-model">Data model<a class="headerlink" href="#data-model" title="Permanent link">¶</a></h2>
<p>The Metadata Store uses the following data model to record and retrieve metadata
from the storage backend.</p>
<ul>
<li><code>ArtifactType</code> describes an artifact's type and its properties that are
    stored in the metadata store. You can register these types on-the-fly with
    the metadata store in code, or you can load them in the store from a
    serialized format. Once you register a type, its definition is available
    throughout the lifetime of the store.</li>
<li>An <code>Artifact</code> describes a specific instance of an <code>ArtifactType</code>, and its
    properties that are written to the metadata store.</li>
<li>An <code>ExecutionType</code> describes a type of component or step in a workflow, and
    its runtime parameters.</li>
<li>An <code>Execution</code> is a record of a component run or a step in an ML workflow
    and the runtime parameters. An execution can be thought of as an instance of
    an <code>ExecutionType</code>. Executions are recorded when you run an ML pipeline or
    step.</li>
<li>An <code>Event</code> is a record of the relationship between artifacts and executions.
    When an execution happens, events record every artifact that was used by the
    execution, and every artifact that was produced. These records allow for
    lineage tracking throughout a workflow. By looking at all events, MLMD knows
    what executions happened and what artifacts were created as a result. MLMD
    can then recurse back from any artifact to all of its upstream inputs.</li>
<li>A <code>ContextType</code> describes a type of conceptual group of artifacts and
    executions in a workflow, and its structural properties. For example:
    projects, pipeline runs, experiments, owners etc.</li>
<li>A <code>Context</code> is an instance of a <code>ContextType</code>. It captures the shared
    information within the group. For example: project name, changelist commit
    id, experiment annotations etc. It has a user-defined unique name within its
    <code>ContextType</code>.</li>
<li>An <code>Attribution</code> is a record of the relationship between artifacts and
    contexts.</li>
<li>An <code>Association</code> is a record of the relationship between executions and
    contexts.</li>
</ul>
<h2 id="mlmd-functionality">MLMD Functionality<a class="headerlink" href="#mlmd-functionality" title="Permanent link">¶</a></h2>
<p>Tracking the inputs and outputs of all components/steps in an ML workflow and
their lineage allows ML platforms to enable several important features. The
following list provides a non-exhaustive overview of some of the major benefits.</p>
<ul>
<li><strong>List all Artifacts of a specific type.</strong> Example: all Models that have
    been trained.</li>
<li><strong>Load two Artifacts of the same type for comparison.</strong> Example: compare
    results from two experiments.</li>
<li><strong>Show a DAG of all related executions and their input and output artifacts
    of a context.</strong> Example: visualize the workflow of an experiment for
    debugging and discovery.</li>
<li><strong>Recurse back through all events to see how an artifact was created.</strong>
    Examples: see what data went into a model; enforce data retention plans.</li>
<li><strong>Identify all artifacts that were created using a given artifact.</strong>
    Examples: see all Models trained from a specific dataset; mark models based
    upon bad data.</li>
<li><strong>Determine if an execution has been run on the same inputs before.</strong>
    Example: determine whether a component/step has already completed the same
    work and the previous output can just be reused.</li>
<li><strong>Record and query context of workflow runs.</strong> Examples: track the owner and
    changelist used for a workflow run; group the lineage by experiments; manage
    artifacts by projects.</li>
<li><strong>Declarative nodes filtering capabilities on properties and 1-hop
    neighborhood nodes.</strong> Examples: look for artifacts of a type and under some
    pipeline context; return typed artifacts where a given property’s value is
    within a range; find previous executions in a context with the same inputs.</li>
</ul>
<p>See the
<a href="https://tensorflow.github.io/tfx/tutorials/mlmd/mlmd_tutorial/">MLMD tutorial</a> for
an example that shows you how to use the MLMD API and the metadata store to
retrieve lineage information.</p>
<h3 id="integrate-ml-metadata-into-your-ml-workflows">Integrate ML Metadata into your ML Workflows<a class="headerlink" href="#integrate-ml-metadata-into-your-ml-workflows" title="Permanent link">¶</a></h3>
<p>If you are a platform developer interested in integrating MLMD into your system,
use the example workflow below to use the low-level MLMD APIs to track the
execution of a training task. You can also use higher-level Python APIs in
notebook environments to record experiment metadata.</p>
<p><img alt="ML Metadata Example Flow" src="images/mlmd_flow.png"></p>
<p>1) Register artifact types</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Create ArtifactTypes, e.g., Data and Model</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">data_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ArtifactType</span><span class="p">()</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">data_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"DataSet"</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">data_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"day"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">INT</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">data_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"split"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">data_type_id</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_artifact_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">model_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ArtifactType</span><span class="p">()</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="n">model_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"SavedModel"</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="n">model_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"version"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">INT</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="n">model_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="n">model_type_id</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_artifact_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="c1"># Query all registered Artifact types.</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="n">artifact_types</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifact_types</span><span class="p">()</span>
</span></code></pre></div>
<p>2) Register execution types for all steps in the ML workflow</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Create an ExecutionType, e.g., Trainer</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">trainer_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ExecutionType</span><span class="p">()</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">trainer_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"Trainer"</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">trainer_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"state"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">trainer_type_id</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_execution_type</span><span class="p">(</span><span class="n">trainer_type</span><span class="p">)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1"># Query a registered Execution type with the returned id</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">[</span><span class="n">registered_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_execution_types_by_id</span><span class="p">([</span><span class="n">trainer_type_id</span><span class="p">])</span>
</span></code></pre></div>
<p>3) Create an artifact of DataSet ArtifactType</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Create an input artifact of type DataSet</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">data_artifact</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Artifact</span><span class="p">()</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">data_artifact</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="s1">'path/to/data'</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">data_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"day"</span><span class="p">]</span><span class="o">.</span><span class="n">int_value</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">data_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"split"</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="s1">'train'</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">data_artifact</span><span class="o">.</span><span class="n">type_id</span> <span class="o">=</span> <span class="n">data_type_id</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">[</span><span class="n">data_artifact_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_artifacts</span><span class="p">([</span><span class="n">data_artifact</span><span class="p">])</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c1"># Query all registered Artifacts</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="n">artifacts</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts</span><span class="p">()</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c1"># Plus, there are many ways to query the same Artifact</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="p">[</span><span class="n">stored_data_artifact</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts_by_id</span><span class="p">([</span><span class="n">data_artifact_id</span><span class="p">])</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="n">artifacts_with_uri</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts_by_uri</span><span class="p">(</span><span class="n">data_artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="n">artifacts_with_conditions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts</span><span class="p">(</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>      <span class="n">list_options</span><span class="o">=</span><span class="n">mlmd</span><span class="o">.</span><span class="n">ListOptions</span><span class="p">(</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>          <span class="n">filter_query</span><span class="o">=</span><span class="s1">'uri LIKE "%/data" AND properties.day.int_value &gt; 0'</span><span class="p">))</span>
</span></code></pre></div>
<p>4) Create an execution of the Trainer run</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Register the Execution of a Trainer run</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">trainer_run</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Execution</span><span class="p">()</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">trainer_run</span><span class="o">.</span><span class="n">type_id</span> <span class="o">=</span> <span class="n">trainer_type_id</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">trainer_run</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"state"</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="s2">"RUNNING"</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">[</span><span class="n">run_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_executions</span><span class="p">([</span><span class="n">trainer_run</span><span class="p">])</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># Query all registered Execution</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">executions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_executions_by_id</span><span class="p">([</span><span class="n">run_id</span><span class="p">])</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1"># Similarly, the same execution can be queried with conditions.</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">executions_with_conditions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_executions</span><span class="p">(</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    <span class="n">list_options</span> <span class="o">=</span> <span class="n">mlmd</span><span class="o">.</span><span class="n">ListOptions</span><span class="p">(</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>        <span class="n">filter_query</span><span class="o">=</span><span class="s1">'type = "Trainer" AND properties.state.string_value IS NOT NULL'</span><span class="p">))</span>
</span></code></pre></div>
<p>5) Define the input event and read data</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Define the input event</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">input_event</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">input_event</span><span class="o">.</span><span class="n">artifact_id</span> <span class="o">=</span> <span class="n">data_artifact_id</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">input_event</span><span class="o">.</span><span class="n">execution_id</span> <span class="o">=</span> <span class="n">run_id</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">input_event</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">DECLARED_INPUT</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1"># Record the input event in the metadata store</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="n">store</span><span class="o">.</span><span class="n">put_events</span><span class="p">([</span><span class="n">input_event</span><span class="p">])</span>
</span></code></pre></div>
<p>6) Declare the output artifact</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Declare the output artifact of type SavedModel</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">model_artifact</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Artifact</span><span class="p">()</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">model_artifact</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="s1">'path/to/model/file'</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"version"</span><span class="p">]</span><span class="o">.</span><span class="n">int_value</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="s1">'MNIST-v1'</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">model_artifact</span><span class="o">.</span><span class="n">type_id</span> <span class="o">=</span> <span class="n">model_type_id</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">[</span><span class="n">model_artifact_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_artifacts</span><span class="p">([</span><span class="n">model_artifact</span><span class="p">])</span>
</span></code></pre></div>
<p>7) Record the output event</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Declare the output event</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">output_event</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">output_event</span><span class="o">.</span><span class="n">artifact_id</span> <span class="o">=</span> <span class="n">model_artifact_id</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">output_event</span><span class="o">.</span><span class="n">execution_id</span> <span class="o">=</span> <span class="n">run_id</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">output_event</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">DECLARED_OUTPUT</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># Submit output event to the Metadata Store</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">store</span><span class="o">.</span><span class="n">put_events</span><span class="p">([</span><span class="n">output_event</span><span class="p">])</span>
</span></code></pre></div>
<p>8) Mark the execution as completed</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">trainer_run</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">run_id</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">trainer_run</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"state"</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="s2">"COMPLETED"</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">store</span><span class="o">.</span><span class="n">put_executions</span><span class="p">([</span><span class="n">trainer_run</span><span class="p">])</span>
</span></code></pre></div>
<p>9) Group artifacts and executions under a context using attributions and
assertions artifacts</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Create a ContextType, e.g., Experiment with a note property</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">experiment_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ContextType</span><span class="p">()</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">experiment_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"Experiment"</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="n">experiment_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"note"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">experiment_type_id</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_context_type</span><span class="p">(</span><span class="n">experiment_type</span><span class="p">)</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1"># Group the model and the trainer run to an experiment.</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="n">my_experiment</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Context</span><span class="p">()</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">my_experiment</span><span class="o">.</span><span class="n">type_id</span> <span class="o">=</span> <span class="n">experiment_type_id</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="c1"># Give the experiment a name</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="n">my_experiment</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"exp1"</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="n">my_experiment</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"note"</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="s2">"My first experiment."</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="p">[</span><span class="n">experiment_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">put_contexts</span><span class="p">([</span><span class="n">my_experiment</span><span class="p">])</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="n">attribution</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Attribution</span><span class="p">()</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="n">attribution</span><span class="o">.</span><span class="n">artifact_id</span> <span class="o">=</span> <span class="n">model_artifact_id</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="n">attribution</span><span class="o">.</span><span class="n">context_id</span> <span class="o">=</span> <span class="n">experiment_id</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="n">association</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">Association</span><span class="p">()</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="n">association</span><span class="o">.</span><span class="n">execution_id</span> <span class="o">=</span> <span class="n">run_id</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="n">association</span><span class="o">.</span><span class="n">context_id</span> <span class="o">=</span> <span class="n">experiment_id</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="n">store</span><span class="o">.</span><span class="n">put_attributions_and_associations</span><span class="p">([</span><span class="n">attribution</span><span class="p">],</span> <span class="p">[</span><span class="n">association</span><span class="p">])</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="c1"># Query the Artifacts and Executions that are linked to the Context.</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="n">experiment_artifacts</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts_by_context</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">)</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="n">experiment_executions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_executions_by_context</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">)</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="c1"># You can also use neighborhood queries to fetch these artifacts and executions</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="c1"># with conditions.</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="n">experiment_artifacts_with_conditions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_artifacts</span><span class="p">(</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a>    <span class="n">list_options</span> <span class="o">=</span> <span class="n">mlmd</span><span class="o">.</span><span class="n">ListOptions</span><span class="p">(</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>        <span class="n">filter_query</span><span class="o">=</span><span class="p">(</span><span class="s1">'contexts_a.type = "Experiment" AND contexts_a.name = "exp1"'</span><span class="p">)))</span>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="n">experiment_executions_with_conditions</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_executions</span><span class="p">(</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a>    <span class="n">list_options</span> <span class="o">=</span> <span class="n">mlmd</span><span class="o">.</span><span class="n">ListOptions</span><span class="p">(</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a>        <span class="n">filter_query</span><span class="o">=</span><span class="p">(</span><span class="s1">'contexts_a.id = </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">))))</span>
</span></code></pre></div>
<h2 id="use-mlmd-with-a-remote-grpc-server">Use MLMD with a remote gRPC server<a class="headerlink" href="#use-mlmd-with-a-remote-grpc-server" title="Permanent link">¶</a></h2>
<p>You can use MLMD with remote gRPC servers as shown below:</p>
<ul>
<li>Start a server</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>bazel<span class="w"> </span>run<span class="w"> </span>-c<span class="w"> </span>opt<span class="w"> </span>--define<span class="w"> </span><span class="nv">grpc_no_ares</span><span class="o">=</span><span class="nb">true</span><span class="w">  </span>//ml_metadata/metadata_store:metadata_store_server
</span></code></pre></div>
<p>By default, the server uses a fake in-memory db per request and does not persist
the metadata across calls. It can also be configured with a MLMD
<code>MetadataStoreServerConfig</code> to use SQLite files or MySQL instances. The config
can be stored in a text protobuf file and passed to the binary with
<code>--metadata_store_server_config_file=path_to_the_config_file</code>.</p>
<p>An example <code>MetadataStoreServerConfig</code> file in text protobuf format:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>connection_config {
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>  sqlite {
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    filename_uri: '/tmp/test_db'
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    connection_mode: READWRITE_OPENCREATE
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>  }
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>}
</span></code></pre></div>
<ul>
<li>Create the client stub and use it in Python</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">grpc</span><span class="w"> </span><span class="kn">import</span> <span class="n">insecure_channel</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata.proto</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store_pb2</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata.proto</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store_service_pb2</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata.proto</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store_service_pb2_grpc</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="n">channel</span> <span class="o">=</span> <span class="n">insecure_channel</span><span class="p">(</span><span class="s1">'localhost:8080'</span><span class="p">)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="n">stub</span> <span class="o">=</span> <span class="n">metadata_store_service_pb2_grpc</span><span class="o">.</span><span class="n">MetadataStoreServiceStub</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li>Use MLMD with RPC calls</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Create ArtifactTypes, e.g., Data and Model</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">data_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ArtifactType</span><span class="p">()</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">data_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"DataSet"</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="n">data_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"day"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">INT</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="n">data_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"split"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="n">request</span> <span class="o">=</span> <span class="n">metadata_store_service_pb2</span><span class="o">.</span><span class="n">PutArtifactTypeRequest</span><span class="p">()</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="n">request</span><span class="o">.</span><span class="n">all_fields_match</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="n">request</span><span class="o">.</span><span class="n">artifact_type</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="n">stub</span><span class="o">.</span><span class="n">PutArtifactType</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="n">model_type</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ArtifactType</span><span class="p">()</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="n">model_type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"SavedModel"</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="n">model_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"version"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">INT</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="n">model_type</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">STRING</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="n">request</span><span class="o">.</span><span class="n">artifact_type</span><span class="o">.</span><span class="n">CopyFrom</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="n">stub</span><span class="o">.</span><span class="n">PutArtifactType</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="upgrade-the-mlmd-library">Upgrade the MLMD library<a class="headerlink" href="#upgrade-the-mlmd-library" title="Permanent link">¶</a></h2>
<p>When using a new MLMD release or your own build with an existing MLMD database,
there may be changes to the database schema. Unless a breaking change is
explicitly mentioned in the release note, all MLMD database schema changes are
transparent for the MLMD API users. If there is a breaking change notice, then
old databases can still be upgraded to use the new MLMD library.</p>
<p>When the MLMD library connects to the database, it compares the expected schema
version of the MLMD library (<code>library_version</code>) with the schema version
(<code>db_version</code>) recorded in the given database. By default, MLMD will check the
compatibility and raise errors when the versions are incompatible.</p>
<ul>
<li>If <code>library_version</code> is compatible with <code>db_version</code>, nothing happens.</li>
<li>
<p>If <code>library_version</code> is newer than <code>db_version</code>, and auto-migration is not
    enabled, then MLMD raises a failed precondition error with the following
    message:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>MLMD database version $db_version is older than library version
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>$library_version. Schema migration is disabled. Please upgrade the
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>database then use the library version; or switch to a older library
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>version to use the current database.
</span></code></pre></div>
</li>
<li>
<p>If <code>library_version</code> is older than <code>db_version</code>, by default MLMD library
    returns errors to prevent any data loss. In this case, you should upgrade
    the library version before using that database.</p>
</li>
</ul>
<h3 id="upgrade-the-database-schema">Upgrade the database schema<a class="headerlink" href="#upgrade-the-database-schema" title="Permanent link">¶</a></h3>
<p>MLMD provides utilities to upgrade the database version.</p>
<p>For example, when connecting to a backend with a Python library:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">sqlite</span><span class="o">.</span><span class="n">filename_uri</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="n">store</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">MetadataStore</span><span class="p">(</span><span class="n">connection_config</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>                                     <span class="n">enable_upgrade_migration</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
<p>Or when using gRPC server, set the MetadataStoreServerConfig as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">connection_config</span> <span class="p">{</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="o">...</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="p">}</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="n">migration_options</span> <span class="p">{</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>    <span class="n">enable_upgrade_migration</span><span class="p">:</span> <span class="n">true</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="p">}</span>
</span></code></pre></div>
<p>MLMD then evolves the database by executing a series of migration scripts. If
the backend supports DDL queries within a transaction (e.g., SQLite), MLMD runs
the steps together within a single transaction, and the transaction is
rolled-back when an error occurs. The migration script is provided together with
any schema-change commit and verified through testing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The migration DDLs in MySQL are not transactional. When using MySQL, there
should only be a single connection with the upgrade migration enabled to use the
old database. Take a backup of the database before upgrading to prevent
potential data losses.</p>
</div>
<h3 id="downgrade-the-database-schema">Downgrade the database schema<a class="headerlink" href="#downgrade-the-database-schema" title="Permanent link">¶</a></h3>
<p>A misconfiguration in the deployment of MLMD may cause an accidental upgrade,
e.g., when you tries out a new version of the library and accidentally connect
to the production instance of MLMD and upgrade the database. To recover from
these situations, MLMD provides a downgrade feature. During connection, if the
migration options specify the <code>downgrade_to_schema_version</code>, MLMD will run a
downgrade transaction to revert the schema version and migrate the data, then
terminate the connection. Once the downgrade is done, use the older version of
the library to connect to the database.</p>
<p>For example:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">()</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">connection_config</span><span class="o">.</span><span class="n">sqlite</span><span class="o">.</span><span class="n">filename_uri</span> <span class="o">=</span> <span class="s1">'...'</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="n">metadata_store</span><span class="o">.</span><span class="n">downgrade_schema</span><span class="p">(</span><span class="n">connection_config</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>                                <span class="n">downgrade_to_schema_version</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When downgrading, MLMD prevents data loss as much as possible. However,
newer schema versions might be inherently more expressive and hence a downgrade
can introduce data loss. When using backends that do not support DDL
transactions (e.g., MySQL), the database should be backed up before downgrading
and the downgrade script should be the only MLMD connection to the database.</p>
</div>
<p>The list of <code>schema_version</code> used in MLMD releases are:</p>
<table>
<thead>
<tr>
<th>ml-metadata (MLMD)</th>
<th>schema_version</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.16.0</td>
<td>10</td>
</tr>
<tr>
<td>1.15.0</td>
<td>10</td>
</tr>
<tr>
<td>1.14.0</td>
<td>10</td>
</tr>
<tr>
<td>1.13.1</td>
<td>10</td>
</tr>
<tr>
<td>1.13.0</td>
<td>10</td>
</tr>
<tr>
<td>1.12.0</td>
<td>10</td>
</tr>
<tr>
<td>1.11.0</td>
<td>10</td>
</tr>
<tr>
<td>1.10.0</td>
<td>8</td>
</tr>
<tr>
<td>1.9.0</td>
<td>8</td>
</tr>
<tr>
<td>1.8.0</td>
<td>8</td>
</tr>
<tr>
<td>1.7.0</td>
<td>8</td>
</tr>
<tr>
<td>1.6.0</td>
<td>7</td>
</tr>
<tr>
<td>1.5.0</td>
<td>7</td>
</tr>
<tr>
<td>1.4.0</td>
<td>7</td>
</tr>
<tr>
<td>1.3.0</td>
<td>7</td>
</tr>
<tr>
<td>1.2.0</td>
<td>7</td>
</tr>
<tr>
<td>1.1.0</td>
<td>7</td>
</tr>
<tr>
<td>1.0.0</td>
<td>6</td>
</tr>
<tr>
<td>0.30.0</td>
<td>6</td>
</tr>
<tr>
<td>0.29.0</td>
<td>6</td>
</tr>
<tr>
<td>0.28.0</td>
<td>6</td>
</tr>
<tr>
<td>0.27.0</td>
<td>6</td>
</tr>
<tr>
<td>0.26.0</td>
<td>6</td>
</tr>
<tr>
<td>0.25.1</td>
<td>6</td>
</tr>
<tr>
<td>0.24.0</td>
<td>5</td>
</tr>
<tr>
<td>0.23.0</td>
<td>5</td>
</tr>
<tr>
<td>0.22.1</td>
<td>5</td>
</tr>
<tr>
<td>0.21.2</td>
<td>4</td>
</tr>
<tr>
<td>0.15.2</td>
<td>4</td>
</tr>
<tr>
<td>0.14.0</td>
<td>4</td>
</tr>
<tr>
<td>0.13.2</td>
<td>0</td>
</tr>
</tbody>
</table>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">¶</a></h2>
<p>The MLMD library has a high-level API that you can readily use with your ML
pipelines. See the
<a href="api/mlmd/">MLMD API documentation</a>
for more details.</p>
<p>Check out
<a href="https://github.com/google/ml-metadata/blob/v1.2.0/ml_metadata/proto/metadata_store.proto#L708-L786">MLMD Declarative Nodes Filtering</a>
to learn how to use MLMD declarative nodes filtering capabilities on properties
and 1-hop neighborhood nodes.</p>
<p>Also check out the
<a href="https://tensorflow.github.io/tfx/tutorials/mlmd/mlmd_tutorial/">MLMD tutorial</a> to
learn how to use MLMD to trace the lineage of your pipeline components.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["content.code.copy", "content.code.select"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>